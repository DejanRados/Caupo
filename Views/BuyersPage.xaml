<UserControl x:Class="Caupo.Views.BuyersPage"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:system="clr-namespace:System;assembly=mscorlib"
        xmlns:local="clr-namespace:Caupo.ViewModels"
        xmlns:loc="clr-namespace:Caupo"
         xmlns:syncfusionskin ="clr-namespace:Syncfusion.SfSkinManager;assembly=Syncfusion.SfSkinManager.WPF" 
         xmlns:svg="http://sharpvectors.codeplex.com/svgc/"
         xmlns:Caupo="clr-namespace:Caupo"
             Loaded="UserControl_Loaded"
        mc:Ignorable="d"
        UseLayoutRounding="True"
          >

   
    <Grid>
        <!-- Header -->
        <Grid HorizontalAlignment="Stretch" VerticalAlignment="Top" Height="55" Background="#323232" >
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="0.2*"/>
            </Grid.ColumnDefinitions>
            <Image Source="pack://application:,,,/Images/dsoftlogosmall.png" Width="50" Height="50" Grid.Column="0" HorizontalAlignment="Left" Margin="20,0,0,0"/>
            <Label x:Name="lblApp" Content="Caupo - Kupci" Foreground="#fafafa" FontSize="25" Grid.Column="0" HorizontalAlignment="Center"  VerticalAlignment="Center"/>
            <Label x:Name="lblUlogovaniKorisnik" Content="Ime i prezime" Foreground="#fafafa" FontSize="16" Grid.Column="1" HorizontalAlignment="Right"  VerticalAlignment="Center"/>
            <Button x:Name="CloseButton" Style="{StaticResource CloseButtonStyle}"  VerticalAlignment="Top" HorizontalAlignment="Right" Padding="0" Margin="1" Click="CloseButton_Click" Grid.Column="2" />
        </Grid>

        <!-- Glavni grid -->
        <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="0.6*"/>
                <ColumnDefinition Width="0.4*"/>

            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="0.2*"/>
                <RowDefinition Height="0.35*"/>
                <RowDefinition Height="0.5*"/>
            </Grid.RowDefinitions>


            <Grid  Grid.Row="0" Grid.Column="1" Grid.ColumnSpan="2" Margin="20,60,60,0" HorizontalAlignment="Right" VerticalAlignment="Center">
                <Viewbox Stretch="Uniform" MinWidth="100"  MaxWidth="160"  Margin="5" Grid.Row="0" Grid.Column="1" HorizontalAlignment="Right" VerticalAlignment="Center">
                    <Button Style="{StaticResource PrimaryButtonStyle}"   x:Name="BtnFaktura"   Click="BtnFaktura_Click"  Width="120"    Height="50"  Margin="2"   >
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <TextBlock FontFamily="pack://application:,,,/Assets/Fonts/#codicon" Margin="0,0,10,0" FontSize="28"  FontWeight="ExtraLight" Text="&#xEA94;"  HorizontalAlignment="Left" VerticalAlignment="Center"/>
                            <TextBlock Text="Faktura"  VerticalAlignment="Center"   />
                        </StackPanel>
                    </Button>
                </Viewbox>
            </Grid>
            <!--  Search TextBox -->
            
            <Grid  Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" Margin="20,60,60,0" HorizontalAlignment="Left" VerticalAlignment="Center">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="3*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Border Padding="5" Width="250" Height="50" Grid.Column="0" HorizontalAlignment="Left"  BorderThickness="2" Background="Transparent"  BorderBrush="#774A6FA5" CornerRadius="15" >
                    <DockPanel   Margin="1" >
                        <TextBlock FontFamily="pack://application:,,,/Assets/Fonts/#codicon" Margin="5" FontSize="24" Width="30" FontWeight="ExtraLight" Text="&#60013;" Foreground="{DynamicResource GlobalFontColor}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBox x:Name="SearchTextBox" Style="{StaticResource TextBoxCustom}"  CaretBrush="{DynamicResource GlobalFontColor}"  Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}" Foreground="{DynamicResource GlobalFontColor}"  FontSize="16" HorizontalAlignment="Stretch" VerticalContentAlignment="Center" Background="Transparent" BorderBrush="Transparent" Padding="5" >
                        
                        </TextBox>
                    </DockPanel>
                </Border>
               
                 <Button Grid.Column="1" Style="{StaticResource SecondaryButtonStyle}" x:Name="BtnFirst" Click="BtnFirst_Click"   Width="50" Height="50" VerticalAlignment="Center"    HorizontalAlignment="Center" ToolTip="Prvi artikl" Margin="10,0,0,0">
                        <TextBlock 
                             FontFamily="pack://application:,,,/Assets/Fonts/#codicon"
                             FontSize="24"
                             FontWeight="ExtraLight"
                             Text="&#60271;" 
                             Foreground="{DynamicResource GlobalFontColor}"
                             HorizontalAlignment="Center"
                             VerticalAlignment="Center"/>
                    </Button>
     
         
                   <Button Grid.Column="2" Style="{StaticResource SecondaryButtonStyle}"  x:Name="BtnLast" Click="BtnLast_Click" Width="50" Height="50" Padding="0"  VerticalAlignment="Center"   ToolTip="Naredni artikl" Margin="10,0,0,0" >
                        <TextBlock 
                                FontFamily="pack://application:,,,/Assets/Fonts/#codicon"
                                FontSize="24"
                                FontWeight="ExtraLight"
                                Text="&#60272;" 
                                Foreground="{DynamicResource GlobalFontColor}"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"/>
                    </Button>
           
                <Viewbox Stretch="Uniform" MinWidth="100"  MaxWidth="160"  Margin="2" Grid.Column="3">
                    <Button Style="{StaticResource PrimaryButtonStyle}"  Margin="5"     x:Name="BtnEdit"   Width="120"    Height="50"      Command="{Binding EditBuyerCommand}">
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center" >
                            <TextBlock FontFamily="pack://application:,,,/Assets/Fonts/#codicon" Margin="6" FontSize="24" Width="30" FontWeight="ExtraLight" Text="&#60019;" Foreground="#F5F5F5" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            <TextBlock Text="Izmjeni"  VerticalAlignment="Center"  />
                        </StackPanel>
                    </Button>
                </Viewbox>
                <Viewbox Stretch="Uniform" MinWidth="100" MaxWidth="160"  Margin="2" Grid.Column="4">
                    <Button Style="{StaticResource PrimaryButtonStyle}"  Margin="6"  x:Name="BtnAdd"     Width="120"    Height="50" Command="{Binding AddBuyerCommand}"    >
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <TextBlock FontFamily="pack://application:,,,/Assets/Fonts/#codicon" Margin="6" FontSize="24" Width="30" FontWeight="ExtraLight" Text="&#60000;" Foreground="#f5f5f5" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            <TextBlock Text="Dodaj"  VerticalAlignment="Center"   />
                        </StackPanel>
                    </Button>
                </Viewbox>
                <Viewbox Stretch="Uniform" MinWidth="100" MaxWidth="160"  Margin="2" Grid.Column="5">
                    <Button Style="{StaticResource PrimaryButtonStyle}" Margin="5"  x:Name="BtnDelete"    Command="{Binding DeleteBuyerCommand}"  Width="120"    Height="50"     >
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <TextBlock FontFamily="pack://application:,,,/Assets/Fonts/#codicon" Margin="6" FontSize="24" Width="30" FontWeight="ExtraLight" Text="&#60033;"  HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            <TextBlock Text="Obriši"  VerticalAlignment="Center"   />
                        </StackPanel>
                    </Button>
                </Viewbox>
            </Grid>

            <Border Grid.Row="1"  Grid.Column="0" BorderThickness="1" BorderBrush="{DynamicResource GlobalFontColor}" Margin="20,10" MaxWidth="500" MinWidth="400" CornerRadius="10" HorizontalAlignment="Left">
                <Grid DataContext="{Binding SelectedBuyer}" Margin="30">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="100"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Row 0 -->
                    <TextBlock Grid.Row="0" Grid.Column="0" Text="Naziv:"/>
                    <TextBlock Grid.Row="0" Grid.Column="1"  Text="{Binding Kupac}" FontSize="14" TextAlignment="Left"/>

                    <!-- Row 1 -->
                    <TextBlock Grid.Row="1" Grid.Column="0" Text="Adresa:"/>
                    <TextBlock Grid.Row="1" Grid.Column="1"  Text="{Binding Adresa}" TextAlignment="Left"/>

                    <!-- Row 2 -->
                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Mjesto:"/>
                    <TextBlock Grid.Row="2" Grid.Column="1"  Text="{Binding Mjesto}" TextAlignment="Left"/>

                    <!-- Row 3 -->
                    <TextBlock Grid.Row="3" Grid.Column="0" Text="JIB:"/>
                    <TextBlock Grid.Row="3" Grid.Column="1"    Text="{Binding JIB}" TextAlignment="Left"/>

                    <!-- Row 4 -->
                    <TextBlock Grid.Row="4" Grid.Column="0" Text="PDV:"/>
                    <TextBlock Grid.Row="4" Grid.Column="1"    Text="{Binding PDV}" TextAlignment="Left"/>

          


                </Grid>
            </Border>

            <DataGrid x:Name="ListaKupaca" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="20,10,0,20"
                    Grid.Row="2"  Grid.Column="0" 
                    MaxWidth="950" MaxHeight="800"
                    SelectionChanged="ListaKupaca_SelectionChanged" 
                    GridLinesVisibility="None"
                    ItemsSource="{Binding BuyersFilter}"
                    SelectedItem="{Binding SelectedBuyer, Mode=TwoWay}" 
                    AutoGenerateColumns="False"
                    HeadersVisibility="Column"
                    CanUserAddRows="False"
                    CanUserResizeRows="False"
                    CanUserSortColumns="False"
                    RowHeight="35"
                    HorizontalScrollBarVisibility="Disabled"
                    Background="Transparent"
                    BorderThickness="0"
                    ClipToBounds="True"
                    BorderBrush="{DynamicResource GlobalFontColor}"
                    ScrollViewer.VerticalScrollBarVisibility="Auto"
                    SelectionMode="Single">
               
                <DataGrid.Resources>
                    <Style TargetType="ScrollBar" BasedOn="{StaticResource WideVerticalScrollBar}"/>
                </DataGrid.Resources>
                <DataGrid.Columns>

                    <DataGridTemplateColumn Header="Kupac" Width="2*" >
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding Kupac}" TextWrapping="Wrap" HorizontalAlignment="Left"/>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>

                    <DataGridTemplateColumn Header="Adresa" Width="*" >
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding Adresa}"  TextAlignment="Left" TextWrapping="Wrap"/>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>

                    <DataGridTemplateColumn Header="Mjesto" Width="*">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding Mjesto}"       TextWrapping="Wrap"       TextAlignment="Left"/>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>

                    <DataGridTemplateColumn Header="JIB" Width="*">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding JIB}"           TextAlignment="Center"/>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>

                    <DataGridTemplateColumn Header="PDV" Width="*">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding PDV}"           TextAlignment="Center"/>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>

                </DataGrid.Columns>
            </DataGrid>
        

            <Grid Grid.Row="1" Grid.Column="1"  Grid.RowSpan="2" >
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <Label Content="Lista računa" Grid.Row="0" HorizontalAlignment="Center"  FontSize="15"/>
                <DataGrid x:Name="ListaRacuna" VerticalAlignment="Top" Margin="20,10,0,20" Grid.Row="1"
                       
                        MaxWidth="950" MaxHeight="800"
                        SelectionChanged="ListaRacuna_SelectionChanged" 
                        GridLinesVisibility="None"
                        ItemsSource="{Binding Receipts}"
                        SelectedItem="{Binding SelectedReceipt, Mode=TwoWay}"
                        AutoGenerateColumns="False"
                        HeadersVisibility="Column"
                        CanUserAddRows="False"
                        CanUserResizeRows="False"
                        CanUserSortColumns="False"
                        RowHeight="35"
                        HorizontalScrollBarVisibility="Disabled"
                        Background="Transparent"
                        BorderThickness="0"
                        ClipToBounds="True"
                        BorderBrush="{DynamicResource GlobalFontColor}"
                        ScrollViewer.VerticalScrollBarVisibility="Auto"
                        SelectionMode="Single">

                    <DataGrid.Resources>
                        <Style TargetType="ScrollBar" BasedOn="{StaticResource WideVerticalScrollBar}"/>
                    </DataGrid.Resources>
                    <DataGrid.Columns>

                        <DataGridTemplateColumn Header="Br.rač." Width="0.6*" >
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text ="{Binding BrojRacuna}" HorizontalAlignment="Left"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>

                        <DataGridTemplateColumn Header="Datum" Width="1.5*" >
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Datum, StringFormat={}{0:dd.MM.yyyy HH:mm}}"  TextAlignment="Center" TextWrapping="Wrap"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>

                        <DataGridTemplateColumn Header="Izdao" Width="*">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding RadnikName}"    TextWrapping="Wrap"       TextAlignment="Left"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>

                        <DataGridTemplateColumn Header="BF" Width="*">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding BrojFiskalnogRacuna}"       TextAlignment="Center"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>

                        <DataGridTemplateColumn Header="Iznos" Width="*">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Iznos, StringFormat={}{0:0.00}}"    TextAlignment="Right" Padding="10,0"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>

                    </DataGrid.Columns>
                </DataGrid>
    
            </Grid>

         
        </Grid>
    </Grid>
</UserControl>
