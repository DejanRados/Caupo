<UserControl x:Class="Caupo.Views.SuppliersPage"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:system="clr-namespace:System;assembly=mscorlib"
        xmlns:local="clr-namespace:Caupo.ViewModels"
        xmlns:loc="clr-namespace:Caupo"
         xmlns:syncfusionskin ="clr-namespace:Syncfusion.SfSkinManager;assembly=Syncfusion.SfSkinManager.WPF" 

         xmlns:svg="http://sharpvectors.codeplex.com/svgc/" xmlns:Caupo="clr-namespace:Caupo"
        mc:Ignorable="d"
        UseLayoutRounding="True"
          >

 
    <Grid>
        <!-- Header -->
        <Grid HorizontalAlignment="Stretch" VerticalAlignment="Top" Height="55" Background="#323232" >
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="0.2*"/>
            </Grid.ColumnDefinitions>
            <Image Source="pack://application:,,,/Images/dsoftlogosmall.png" Width="50" Height="50" Grid.Column="0" HorizontalAlignment="Left" Margin="20,0,0,0"/>
            <Label x:Name="lblApp" Content="Caupo - Dobavljači" Foreground="#fafafa" FontSize="25" Grid.Column="0" HorizontalAlignment="Center"  VerticalAlignment="Center"/>
            <Label x:Name="lblUlogovaniKorisnik" Content="Ime i prezime" Foreground="#fafafa" FontSize="16" Grid.Column="1" HorizontalAlignment="Right"  VerticalAlignment="Center"/>
            <Button x:Name="CloseButton" Style="{StaticResource CloseButtonStyle}"  VerticalAlignment="Top" HorizontalAlignment="Right" Padding="0" Margin="1" Click="CloseButton_Click" Grid.Column="2" />
        </Grid>

        <!-- Glavni grid -->
        <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="0.6*"/>
                <ColumnDefinition Width="0.4*"/>

            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="0.25*"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="0.2*"/>
            </Grid.RowDefinitions>

            <!--This is the hidden helper Grid which does the resizing -->
            <Grid Visibility="Hidden">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="0.60*"/>
                    <ColumnDefinition Width="0.14*" />
                    <ColumnDefinition Width="20"/>
                </Grid.ColumnDefinitions>
                <!--This is the hidden helper Field which is used to bind to, using the "Fill" column of the helper grid-->
                <Grid Grid.Column="1" x:Name="helperField"/>
            </Grid>
            <!-- Dugmici za dodavanje , edit .....-->
            <StackPanel Orientation="Horizontal" Grid.Row="0" Grid.Column="1" Grid.ColumnSpan="2" Margin="60,60,0,0" VerticalAlignment="Center" HorizontalAlignment="Right">
                <!-- <Button Style="{StaticResource MyButtonStyle}"  BorderBrush="#484899" Margin="5"     x:Name="BtnDuplicate"  Click="BtnDuplicate_Click"   Width="120"    Height="50"   Foreground="{DynamicResource GlobalFontColor}"    >
                                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center" >
                        <TextBlock FontFamily="pack://application:,,,/Assets/Fonts/#codicon" Margin="0,0,10,0" FontSize="32"  FontWeight="ExtraLight" Text="&#xEA95;" Foreground="{DynamicResource GlobalFontColor}" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                               <TextBlock Text="Duplikat "  VerticalAlignment="Center"  Foreground="{DynamicResource GlobalFontColor}" />
                                           </StackPanel>
                </Button>-->

                <!-- <Button Style="{StaticResource MyButtonStyle}" BorderBrush="#484899" Margin="5"  x:Name="BtnFaktura"    Width="120"    Height="50"   Foreground="{DynamicResource GlobalFontColor}"   >
                     <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock FontFamily="pack://application:,,,/Assets/Fonts/#codicon" Margin="0,0,10,0" FontSize="28"  FontWeight="ExtraLight" Text="&#xEA94;" Foreground="{DynamicResource GlobalFontColor}" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                        <TextBlock Text="Faktura"  VerticalAlignment="Center"  Foreground="{DynamicResource GlobalFontColor}" />
                    </StackPanel>
                </Button>-->
               
            
              
            </StackPanel>



            <!--  Search TextBox -->
            <StackPanel Orientation="Horizontal" Grid.Row="0"  Grid.Column="0" Margin="30,60,0,0"  >
                <Border Padding="5" Width="300" Height="50" HorizontalAlignment="Left"  BorderThickness="1" Background="Transparent"  BorderBrush="{DynamicResource GlobalFontColor}" CornerRadius="15" >
                    <DockPanel Grid.Row="1" Grid.Column="1" Margin="1" >
                        <TextBlock FontFamily="pack://application:,,,/Assets/Fonts/#codicon" Margin="5" FontSize="24" Width="30" FontWeight="ExtraLight" Text="&#60013;" Foreground="{DynamicResource GlobalFontColor}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        <TextBox x:Name="SearchTextBox" CaretBrush="{DynamicResource GlobalFontColor}"  Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}" Foreground="{DynamicResource GlobalFontColor}"  FontSize="16" HorizontalAlignment="Stretch" VerticalContentAlignment="Center" Background="Transparent" BorderBrush="Transparent" Padding="5" >
                        <TextBox.Style>
                            <Style TargetType="TextBox">
                                <Style.Triggers>
                                    <Trigger Property="IsFocused" Value="True">
                                        <Setter Property="BorderBrush" Value="Transparent"/>
                                        <Setter Property="BorderThickness" Value="0"/>
                                        <Setter Property="Background" Value="Transparent"/>
                                    </Trigger>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="BorderBrush" Value="Transparent"/>
                                        <Setter Property="BorderThickness" Value="0"/>
                                        <Setter Property="Background" Value="Transparent"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </TextBox.Style>
                    </TextBox>
                </DockPanel>
                </Border>

                <Button Style="{StaticResource MyButtonStyle}" x:Name="BtnFirst" Click="BtnFirst_Click"  BorderBrush="#484899" Width="50" Height="50" VerticalAlignment="Center"  BorderThickness="1" Grid.Column="0" HorizontalAlignment="Center" ToolTip="Prvi artikl" Margin="10,0,0,0">
                    <TextBlock 
                       FontFamily="pack://application:,,,/Assets/Fonts/#codicon"
                       FontSize="24"
                       FontWeight="ExtraLight"
                       Text="&#60271;" 
                       Foreground="{DynamicResource GlobalFontColor}"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"/>
                </Button>
                <Button Style="{StaticResource MyButtonStyle}" BorderBrush="#484899" x:Name="BtnLast" Click="BtnLast_Click" Width="50" Height="50" Padding="0"  VerticalAlignment="Center"  Grid.Column="2" ToolTip="Naredni artikl" Margin="10,0,0,0" >
                    <TextBlock 
                      FontFamily="pack://application:,,,/Assets/Fonts/#codicon"
                      FontSize="24"
                      FontWeight="ExtraLight"
                      Text="&#60272;" 
                      Foreground="{DynamicResource GlobalFontColor}"
                      HorizontalAlignment="Center"
                      VerticalAlignment="Center"/>
                </Button>
                <Button Style="{StaticResource MyButtonStyle}" BorderBrush="#484899" x:Name="BtnEdit" Command="{Binding EditCommand}" Width="50" Height="50" Padding="0"  VerticalAlignment="Center"  Grid.Column="2" ToolTip="Izmjeni dobavljača" Margin="10,0,0,0" >
                    <TextBlock 
                     FontFamily="pack://application:,,,/Assets/Fonts/#codicon"
                     FontSize="24"
                     FontWeight="ExtraLight"
                     Text="&#60019;" 
                     Foreground="{DynamicResource GlobalFontColor}"
                     HorizontalAlignment="Center"
                     VerticalAlignment="Center"/>
                </Button>
                <Button Style="{StaticResource MyButtonStyle}" BorderBrush="#484899" x:Name="BtnAdd"  Command="{Binding AddCommand}"  Width="50" Height="50" Padding="0"  VerticalAlignment="Center"  Grid.Column="2" ToolTip="Novi dobavljač" Margin="10,0,0,0" >
                    <TextBlock 
                   FontFamily="pack://application:,,,/Assets/Fonts/#codicon"
                   FontSize="24"
                   FontWeight="ExtraLight"
                   Text="&#60000;"
                   Foreground="{DynamicResource GlobalFontColor}"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Center"/>
                </Button>
                <Button Style="{StaticResource MyButtonStyle}" BorderBrush="#484899" x:Name="BtnDelete"  Command="{Binding DeleteCommand}"  Width="50" Height="50" Padding="0"  VerticalAlignment="Center"  Grid.Column="2" ToolTip="Obriši dobavljača" Margin="10,0,0,0" >
                    <TextBlock 
                    FontFamily="pack://application:,,,/Assets/Fonts/#codicon"
                    FontSize="24"
                    FontWeight="ExtraLight"
                    Text="&#60033;" 
                    Foreground="{DynamicResource GlobalFontColor}"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"/>
                </Button>


            </StackPanel>

            <DataGrid x:Name="ListaDobavljaca" VerticalAlignment="Top" Margin="20,0"
                    Grid.Row="1" Grid.RowSpan="2" Grid.Column="0" 
                    MaxWidth="950" MaxHeight="800"
                    SelectionChanged="ListaDobavljaca_SelectionChanged" 
                    GridLinesVisibility="None"
                    ItemsSource="{Binding SuppliersFilter}"
                    SelectedItem="{Binding SelectedSupplier, Mode=TwoWay}" 
                    AutoGenerateColumns="False"
                    HeadersVisibility="Column"
                    CanUserAddRows="False"
                    CanUserResizeRows="False"
                    CanUserSortColumns="False"
                    RowHeight="35"
                    HorizontalScrollBarVisibility="Disabled"
                    Background="Transparent"
                    BorderThickness="0"
                    ClipToBounds="True"
                    BorderBrush="{DynamicResource GlobalFontColor}"
                    ScrollViewer.VerticalScrollBarVisibility="Auto"
                    SelectionMode="Single">

                <DataGrid.Resources>
                    <Style TargetType="ScrollBar" BasedOn="{StaticResource WideVerticalScrollBar}"/>
                </DataGrid.Resources>
                <DataGrid.Columns>

                    <DataGridTemplateColumn Header="Dobavljač" Width="2*" >
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding Dobavljac}" TextWrapping="Wrap" HorizontalAlignment="Left"/>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>

                    <DataGridTemplateColumn Header="Adresa" Width="*" >
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding Adresa}"  TextAlignment="Left" TextWrapping="Wrap"/>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>

                    <DataGridTemplateColumn Header="Mjesto" Width="*">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding Mjesto}"       TextWrapping="Wrap"       TextAlignment="Left"/>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>

                    <DataGridTemplateColumn Header="JIB" Width="*">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding JIB}"           TextAlignment="Center"/>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>

                    <DataGridTemplateColumn Header="PDV" Width="*">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding PDV}"           TextAlignment="Center"/>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>

                </DataGrid.Columns>
            </DataGrid>


            <Grid Grid.Row="1" Grid.Column="1"  Margin="50,15,0,0"  >
                <DataGrid x:Name="ListaUlaza" VerticalAlignment="Top" Margin="20,0"
         Grid.Row="1"  Grid.Column="0"
         MaxWidth="950" MaxHeight="800"
         SelectionChanged="ListaUlaza_SelectionChanged" 
         GridLinesVisibility="None"
         ItemsSource="{Binding StockIn}"
         SelectedItem="{Binding SelectedStockIn, Mode=TwoWay}"
         MouseDoubleClick="ListaUlaza_MouseDoubleClick"
         AutoGenerateColumns="False"
         HeadersVisibility="Column"
         CanUserAddRows="False"
         CanUserResizeRows="False"
         CanUserSortColumns="False"
         RowHeight="35"
         HorizontalScrollBarVisibility="Disabled"
         Background="Transparent"
         BorderThickness="0"
         ClipToBounds="True"
         BorderBrush="{DynamicResource GlobalFontColor}"
         ScrollViewer.VerticalScrollBarVisibility="Auto"
         SelectionMode="Single">

                    <DataGrid.Resources>
                        <Style TargetType="ScrollBar" BasedOn="{StaticResource WideVerticalScrollBar}"/>
                    </DataGrid.Resources>
                    <DataGrid.Columns>

                        <DataGridTemplateColumn Header="Br.ulaza" Width="0.6*" >
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text ="{Binding BrojUlaza}" HorizontalAlignment="Left" Padding="10"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>

                        <DataGridTemplateColumn Header="Datum" Width="*" >
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Datum, StringFormat={}{0:dd.MM.yyyy }}"  TextAlignment="Center" TextWrapping="Wrap"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>

                        <DataGridTemplateColumn Header="Primio" Width="1.5*">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding RadnikName}"    TextWrapping="Wrap"       TextAlignment="Center"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>

                        <DataGridTemplateColumn Header="BF" Width="*">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding BrojFakture}"       TextAlignment="Center"/>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>

                    

                    </DataGrid.Columns>
                </DataGrid>
      

            </Grid>

            <Label Grid.Row="2" Grid.Column="1" HorizontalContentAlignment="Right" ContentStringFormat="{}{0:0.00}" FontSize="24" Margin="00,15,50,0" Foreground="{DynamicResource GlobalFontColor}" Content="{Binding IznosRacuna}"/>
        </Grid>
    </Grid>
</UserControl>
